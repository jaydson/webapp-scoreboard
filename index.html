<!DOCTYPE html>
<html manifest="manifest.appcache">
<!-- 
    Exchange the line above for this to enable offline support
    <html manifest="manifest.appcache">

    Please make your homework before doing this:
        http://www.alistapart.com/articles/application-cache-is-a-douchebag/
        http://appcachefacts.info
    
    This might be necessary to set up on your server, to make sure 
    files are updated when the appcache file itself is:
        https://github.com/robnyman/Firefox-OS-Boilerplate-App/blob/gh-pages/.htaccess
 -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="images/logo16.png" rel="icon">
    <link rel="stylesheet" type="text/css" href="css/base.css">
    <link rel="stylesheet" type="text/css" href="css/headers.css">
    <link rel="stylesheet" type="text/css" href="css/buttons.css">
    <link rel="stylesheet" type="text/css" href="css/toolbars.css">
    <title>Foosball ScoreBoard</title>
</head>

<body>
    <audio id="caxao" src="mp3/caxao.ogg" type="audio/mpeg" preload="auto"></audio>
    <button id="install">Install</button>
    <button id="reload">Refresh</button>

    <div id="main">
        
        <div class="team red">
            0
        </div>
        <div class="team blue">
            0
        </div>
    
    </div>
    <script type="text/javascript" src="js/hammer.min.js"></script>
    <script type="text/javascript" src="js/base.js"></script>
    <script type="text/javascript" src="js/webapp.js"></script>
    <script type="text/javascript" src="js/offline.js"></script>

   <script>
   if(screen.mozLockOrientation) {
        screen.mozLockOrientation("portrait");
   }
    var main = document.querySelector('#main'), 
        red = document.querySelector('.team.red'),
        blue = document.querySelector('.team.blue'),
        caxao = document.querySelector('#caxao'),
        blueScore = 0,
        redScore = 0;

    function newGame () {
        blueScore = 0;
        redScore = 0;
        red.innerHTML = redScore;
        blue.innerHTML = blueScore;
    }

    function doTheCaixao() {
        var audioel = document.createElement('audio');
        audioel.src="mp3/caxao.ogg";
        audioel.type="audio/mpeg";
        audioel.preload="auto";
        audioel.play();
    }

    Hammer(red).on("tap", function(event) {
        redScore ++;
        red.innerHTML = redScore;
        doTheCaixao();
    });

    Hammer(blue).on("tap", function(event) {
        blueScore ++;
        blue.innerHTML = blueScore;
        doTheCaixao();
    });

    Hammer(main).on('pinch', function(event) {
        newGame();
    });

   </script>

</body>
</html>
